{"ast":null,"code":"import _slicedToArray from\"/home/timakov/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{CurrentUserContext}from'../contexts/CurrentUserContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Card(props){var currentUser=React.useContext(CurrentUserContext);var _React$useState=React.useState(props.card.likes.some(function(i){return i._id===currentUser._id;})),_React$useState2=_slicedToArray(_React$useState,2),liked=_React$useState2[0],setLiked=_React$useState2[1];var isOwn=props.card.owner._id===currentUser._id;function handleClick(){props.onCardClick(props.card);}function handleLikeClick(){setLiked(!liked);props.onCardLike(props.card);}var cardDeleteButtonClassName=\"element__trash \".concat(isOwn?'':'element__trash_hidden');var cardLikeButtonClassName=\"element__like \".concat(liked&&'element__like_active');function handleDeleteClick(){props.onCardDelete(props.card);}return/*#__PURE__*/_jsxs(\"div\",{className:\"element\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"element__link\",src:props.card.link,alt:props.card.name,onClick:handleClick}),/*#__PURE__*/_jsxs(\"div\",{className:\"element__header\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"element__text\",children:props.card.name}),/*#__PURE__*/_jsx(\"button\",{className:cardLikeButtonClassName,onClick:handleLikeClick,type:\"button\"}),/*#__PURE__*/_jsx(\"span\",{className:\"element__number\",children:props.card.likes.length}),/*#__PURE__*/_jsx(\"button\",{className:cardDeleteButtonClassName,onClick:handleDeleteClick,type:\"button\"})]})]});}export default Card;","map":{"version":3,"sources":["/home/timakov/react-mesto-auth/src/components/Card.js"],"names":["React","CurrentUserContext","Card","props","currentUser","useContext","useState","card","likes","some","i","_id","liked","setLiked","isOwn","owner","handleClick","onCardClick","handleLikeClick","onCardLike","cardDeleteButtonClassName","cardLikeButtonClassName","handleDeleteClick","onCardDelete","link","name","length"],"mappings":"iHAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,kBAAT,KAAmC,gCAAnC,C,wFAEA,QAASC,CAAAA,IAAT,CAAcC,KAAd,CAAqB,CACjB,GAAMC,CAAAA,WAAW,CAAGJ,KAAK,CAACK,UAAN,CAAiBJ,kBAAjB,CAApB,CADiB,oBAGSD,KAAK,CAACM,QAAN,CACtBH,KAAK,CAACI,IAAN,CAAWC,KAAX,CAAiBC,IAAjB,CAAsB,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACC,GAAF,GAAUP,WAAW,CAACO,GAA7B,EAAtB,CADsB,CAHT,oDAGVC,KAHU,qBAGHC,QAHG,qBAMjB,GAAMC,CAAAA,KAAK,CAAGX,KAAK,CAACI,IAAN,CAAWQ,KAAX,CAAiBJ,GAAjB,GAAyBP,WAAW,CAACO,GAAnD,CAEA,QAASK,CAAAA,WAAT,EAAuB,CACnBb,KAAK,CAACc,WAAN,CAAkBd,KAAK,CAACI,IAAxB,EACH,CAED,QAASW,CAAAA,eAAT,EAA2B,CACvBL,QAAQ,CAAC,CAACD,KAAF,CAAR,CACAT,KAAK,CAACgB,UAAN,CAAiBhB,KAAK,CAACI,IAAvB,EACH,CAED,GAAMa,CAAAA,yBAAyB,0BAAsBN,KAAK,CAAG,EAAH,CAAQ,uBAAnC,CAA/B,CACA,GAAMO,CAAAA,uBAAuB,yBAAqBT,KAAK,EAAI,sBAA9B,CAA7B,CAEA,QAASU,CAAAA,iBAAT,EAA6B,CACzBnB,KAAK,CAACoB,YAAN,CAAmBpB,KAAK,CAACI,IAAzB,EACH,CAED,mBACC,aAAK,SAAS,CAAC,SAAf,wBACI,YAAK,SAAS,CAAC,eAAf,CAA+B,GAAG,CAAEJ,KAAK,CAACI,IAAN,CAAWiB,IAA/C,CAAqD,GAAG,CAAErB,KAAK,CAACI,IAAN,CAAWkB,IAArE,CAA2E,OAAO,CAAET,WAApF,EADJ,cAEI,aAAK,SAAS,CAAC,iBAAf,wBACI,WAAI,SAAS,CAAC,eAAd,UAA+Bb,KAAK,CAACI,IAAN,CAAWkB,IAA1C,EADJ,cAEI,eAAQ,SAAS,CAAEJ,uBAAnB,CAA4C,OAAO,CAAEH,eAArD,CAAsE,IAAI,CAAC,QAA3E,EAFJ,cAGI,aAAM,SAAS,CAAC,iBAAhB,UAAmCf,KAAK,CAACI,IAAN,CAAWC,KAAX,CAAiBkB,MAApD,EAHJ,cAII,eAAQ,SAAS,CAAEN,yBAAnB,CAA8C,OAAO,CAAEE,iBAAvD,CAA0E,IAAI,CAAC,QAA/E,EAJJ,GAFJ,GADD,CAWH,CAED,cAAepB,CAAAA,IAAf","sourcesContent":["import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n\n    const [liked, setLiked] = React.useState(\n        props.card.likes.some((i) => i._id === currentUser._id)\n    );\n    const isOwn = props.card.owner._id === currentUser._id;\n\n    function handleClick() {\n        props.onCardClick(props.card);\n    }\n\n    function handleLikeClick() {\n        setLiked(!liked);\n        props.onCardLike(props.card);\n    }\n\n    const cardDeleteButtonClassName = (`element__trash ${isOwn ? '' : 'element__trash_hidden'}`);\n    const cardLikeButtonClassName = (`element__like ${liked && 'element__like_active'}`);\n\n    function handleDeleteClick() {\n        props.onCardDelete(props.card);\n    }\n\n    return (\n     <div className=\"element\">\n         <img className=\"element__link\" src={props.card.link} alt={props.card.name} onClick={handleClick}/>\n         <div className=\"element__header\">\n             <h2 className=\"element__text\">{props.card.name}</h2>\n             <button className={cardLikeButtonClassName} onClick={handleLikeClick} type=\"button\"/>\n             <span className=\"element__number\">{props.card.likes.length}</span>\n             <button className={cardDeleteButtonClassName} onClick={handleDeleteClick} type=\"button\"/>\n         </div>\n     </div>\n ) \n}\n\nexport default Card;"]},"metadata":{},"sourceType":"module"}