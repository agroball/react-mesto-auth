[{"/home/timakov/react-mesto-auth/src/index.js":"1","/home/timakov/react-mesto-auth/src/components/App.js":"2","/home/timakov/react-mesto-auth/src/components/Login.js":"3","/home/timakov/react-mesto-auth/src/components/Header.js":"4","/home/timakov/react-mesto-auth/src/components/Footer.js":"5","/home/timakov/react-mesto-auth/src/components/Main.js":"6","/home/timakov/react-mesto-auth/src/components/PopupWithForm.js":"7","/home/timakov/react-mesto-auth/src/components/ImagePopup.js":"8","/home/timakov/react-mesto-auth/src/utils/api.js":"9","/home/timakov/react-mesto-auth/src/components/AddPlacePopup.js":"10","/home/timakov/react-mesto-auth/src/components/EditAvatarPopup.js":"11","/home/timakov/react-mesto-auth/src/components/EditProfilePopup.js":"12","/home/timakov/react-mesto-auth/src/contexts/CurrentUserContext.js":"13","/home/timakov/react-mesto-auth/src/components/Card.js":"14","/home/timakov/react-mesto-auth/src/components/InputForm.js":"15","/home/timakov/react-mesto-auth/src/components/Register.js":"16","/home/timakov/react-mesto-auth/src/components/ProtectedRoute.js":"17"},{"size":343,"mtime":1620908567102,"results":"18","hashOfConfig":"19"},{"size":7449,"mtime":1621006323008,"results":"20","hashOfConfig":"19"},{"size":1438,"mtime":1620911851713,"results":"21","hashOfConfig":"19"},{"size":414,"mtime":1621005123587,"results":"22","hashOfConfig":"19"},{"size":199,"mtime":1620738249068,"results":"23","hashOfConfig":"19"},{"size":1697,"mtime":1620738249068,"results":"24","hashOfConfig":"19"},{"size":916,"mtime":1620738249068,"results":"25","hashOfConfig":"19"},{"size":770,"mtime":1620738249068,"results":"26","hashOfConfig":"19"},{"size":3338,"mtime":1620738249068,"results":"27","hashOfConfig":"19"},{"size":1216,"mtime":1620738249068,"results":"28","hashOfConfig":"19"},{"size":937,"mtime":1620738249068,"results":"29","hashOfConfig":"19"},{"size":1992,"mtime":1620738249068,"results":"30","hashOfConfig":"19"},{"size":83,"mtime":1620738249068,"results":"31","hashOfConfig":"19"},{"size":1409,"mtime":1620738249068,"results":"32","hashOfConfig":"19"},{"size":1387,"mtime":1620909041529,"results":"33","hashOfConfig":"19"},{"size":1882,"mtime":1620990872042,"results":"34","hashOfConfig":"19"},{"size":351,"mtime":1621005430844,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"3jspl2",{"filePath":"39","messages":"40","errorCount":9,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"38"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"72"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/timakov/react-mesto-auth/src/index.js",[],["75","76"],"/home/timakov/react-mesto-auth/src/components/App.js",["77","78","79","80","81","82","83","84","85","86","87","88","89"],"import '../index.css';\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Login from './Login.js';\nimport Register from './Register';\nimport Footer from './Footer.js';\nimport PopupWithForm from './PopupWithForm.js';\nimport ImagePopup from './ImagePopup.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport api from '../utils/api.js';\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport React from \"react\";\nimport { Route, Switch, Redirect, withRouter } from \"react-router-dom\";\n\n\nfunction App() {\n\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n    const [selectedCard, setSelectedCard] = React.useState({});\n    const [isPopupWithImageOpen, setIsPopupWithImageOpen] = React.useState(false);\n    const [cards, setCards] = React.useState([]);\n    const [currentUser, setCurrentUser] = React.useState({ name: '', about: ''});\n    const [isSuccessPopupOpen, setIsSuccessPopupOpen] = React.useState(false);\n    const [isFailPopupOpen, setIsFailPopupOpen] = React.useState(false);\n\n\n\n\n    React.useEffect(() => {\n        const promises = [api.getUserInfo(), api.getInitialCards()];\n        Promise.all(promises)\n            .then(([user, cards]) => {\n                setCurrentUser(user);\n                setCards(cards);\n            })\n            .catch((error) => {\n                console.log(error);\n            })\n    }, []);\n\n    function handleEditProfileClick() {\n        setIsEditProfilePopupOpen(true);\n    }\n\n    function handleAddPlaceClick(){\n        setIsAddPlacePopupOpen(true);\n    }\n\n    function handleEditAvatarClick() {\n        setIsEditAvatarPopupOpen(true);\n    }\n\n    function handleSuccessPopupClick() {\n        setIsSuccessPopupOpen(true);\n    }\n\n    function handleFailPopupClick() {\n        setIsFailPopupOpen(true);\n    }\n\n    function handleCardClick(card) {\n        setSelectedCard(card);\n        setIsPopupWithImageOpen(true);\n    }\n\n    function closeAllPopups() {\n        setIsEditProfilePopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setIsEditAvatarPopupOpen(false);\n        setSelectedCard('' );\n        setIsPopupWithImageOpen(false);\n    }\n\n    function handleLikeClick(card) {\n        const isLiked = card.likes.some((i) => i._id === currentUser._id);\n        // Отправляем запрос в API и получаем обновлённые данные карточки\n        api.changeLikeCardStatus(card._id, !isLiked)\n            .then((newCard) => {\n                // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n                const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n                // Обновляем стейт\n                setCards(newCards);\n            })\n            .catch((err) => console.log(err));\n    }\n\n    function handleDeleteClick(card){\n        api.deleteCard(card._id)\n            .then((newCard)=> {\n                const newCards = cards.filter((c) =>\n                    c._id === card._id ? \"\" : newCard\n                );\n                setCards(newCards);\n            })\n            .catch((err) => console.log(err));\n    }\n\n    function handleUpdateUser({name, about}) {\n        return api.setUserInfo(name, about)\n            .then((result) => {\n                setCurrentUser(result);\n                closeAllPopups();\n            })\n            .catch((err) => console.log(err));\n    }\n\n    function handleUpdateAvatar(data) {\n        api.updateAvatarImage(data)\n            .then((result) => {\n                setCurrentUser(result);\n                closeAllPopups();\n            })\n            .catch((err) => console.log(err));\n    }\n\n    function handleAddPlaceSubmit({name, link}) {\n        api.addCard(name, link)\n            .then((newCard) => {\n                setCards([newCard, ...cards]);\n                closeAllPopups();\n            })\n            .catch((err) => console.log(err));\n    }\n\n\n\n    /*авторизация пользователя*/\n    function handleLogin(email, password) {\n        auth.authorize(email, password)\n            .then((res) => {\n                localStorage.setItem('token', res.token);\n                setEmail(email);\n                setLoggedIn(true);\n                setExit(true);\n                props.history.push('/');\n            })\n            .catch((err) => {\n                    handleFailPopupClick();\n                    console.log(err)\n                }\n            );\n    }\n    /*регистрация пользователя*/\n    function handleRegister(email, password) {\n        auth.register(email, password)\n            .then((res) => {\n                handleSuccessPopupClick();\n                props.history.push('/sign-in');\n            })\n            .catch((err) => {\n                    handleFailPopupClick();\n                    console.log(err)\n                }\n            );\n    }\n\n\n\n\n\n\n\n\n    return (\n<>\n    <CurrentUserContext.Provider value={currentUser}>\n      <Header/>\n        <Switch>\n            <ProtectedRoute\n                exact=\"exact\"\n                path=\"/\"\n                component={Main}\n                onEditProfile={handleEditProfileClick}\n                onAddPlace={handleAddPlaceClick}\n                onEditAvatar={handleEditAvatarClick}\n                onCardClick={handleCardClick}\n                cards={cards}\n                onCardLike={handleLikeClick}\n                onCardDelete={handleDeleteClick}\n            />\n            <Route exact path=\"/sign-up\">\n               <Login/>\n            </Route>\n            <Route exact path=\"/sign-in\">\n                <Register/>\n            </Route>\n        </Switch>\n        {/*{loggenIn && <Footer/>}*/}\n        <Footer/>\n        <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n        />\n        <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n        />\n        <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n        />\n\n        <InfoToolTip\n            isOpen={isSuccessPopupOpen}\n            onClose={closeAllPopups}\n            title=\"Вы успешно зарегистрировались!\"\n        />\n        <InfoToolTip\n            isOpen={isFailPopupOpen}\n            onClose={closeAllPopups}\n            title=\"Что-то пошло не так!Попробуйте ещё раз.\"\n        />\n\n\n          <PopupWithForm name=\"agreePopup\"\n                         title=\"Вы уверены?\"\n                         button=\"Да\">\n          </PopupWithForm>\n\n\n          <ImagePopup\n              card={selectedCard}\n              isOpen={isPopupWithImageOpen}\n              onClose={closeAllPopups}\n          >\n          </ImagePopup>\n    </CurrentUserContext.Provider>\n</>\n  );\n}\n\nexport default App;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","/home/timakov/react-mesto-auth/src/components/Login.js",["90","91","92","93"],"import React from 'react';\nimport InputForm from './InputForm';\nimport { withRouter } from 'react-router-dom';\n\nfunction Login(props){\n    /*переменные для управления инпутами*/\n    const [email, setEmail] = React.useState('');\n    const [password, setPassword] = React.useState('');\n\n    // /*функции для смены значений переменых из стейта*/\n    // function handleEmail(e) {\n    //     setEmail(e.target.value);\n    // }\n    //\n    // function handlePassword(e) {\n    //     setPassword(e.target.value);\n    // }\n    //\n    // /*отмена стандартного поведения + отправка введенных данных в инпуты на сервер*/\n    // function handleSubmit(e) {\n    //     e.preventDefault();\n    //     props.onLogin(email, password);\n\n    return (\n        <div className=\"passp-content\" >\n            <form className=\"passp-content__form\" noValidate>\n                <h2 className=\"passp-content__title\">Вход</h2>\n                <InputForm  className=\"passp-content__input\" placeholder=\"Email\" type=\"email\"></InputForm>\n                <InputForm  className=\"passp-content__input\" placeholder=\"Пароль\" type=\"password\"></InputForm>\n                <button className=\"passp-content__button-submit\" type=\"submit\">Войти</button>\n            </form>\n        </div>\n    )\n\n}\n\nexport default withRouter(Login);","/home/timakov/react-mesto-auth/src/components/Header.js",["94","95"],"import headerLogo from \"../images/logo.a307e1c4.svg\";\nimport { Link, withRouter } from \"react-router-dom\";\n\nfunction Header(){\n    // смена видимости линки\n    // const [linkState, setLinkState] = React.useState('');\n\n\n    return(\n    <div className=\"header\">\n        <img className=\"header__logo\" src={headerLogo} alt=\"Главный логотип\"/>\n    </div>\n    )\n}\nexport default Header;\n","/home/timakov/react-mesto-auth/src/components/Footer.js",[],"/home/timakov/react-mesto-auth/src/components/Main.js",[],"/home/timakov/react-mesto-auth/src/components/PopupWithForm.js",[],"/home/timakov/react-mesto-auth/src/components/ImagePopup.js",[],"/home/timakov/react-mesto-auth/src/utils/api.js",[],"/home/timakov/react-mesto-auth/src/components/AddPlacePopup.js",[],"/home/timakov/react-mesto-auth/src/components/EditAvatarPopup.js",[],"/home/timakov/react-mesto-auth/src/components/EditProfilePopup.js",[],"/home/timakov/react-mesto-auth/src/contexts/CurrentUserContext.js",[],"/home/timakov/react-mesto-auth/src/components/Card.js",[],"/home/timakov/react-mesto-auth/src/components/InputForm.js",[],"/home/timakov/react-mesto-auth/src/components/Register.js",["96","97","98"],"import React from 'react';\nimport InputForm from './InputForm';\nimport { Link, withRouter } from 'react-router-dom';\n\nfunction  Register(props) {\n    /*переменные для управления инпутами*/\n    const [email, setEmail] = React.useState('');\n    const [password, setPassword] = React.useState('');\n\n    /*функции для смены значений переменых из стейта*/\n    function handleEmail(e) {\n        setEmail(e.target.value);\n    }\n\n    function handlePassword(e) {\n        setPassword(e.target.value);\n    }\n\n    /*отмена стандартного поведения + отправка введенных данных в инпуты на сервер*/\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onRegister(email, password);\n    }\n\n    /*при монтировании контролирует название элемента link в компоненте Header*/\n    React.useEffect(() => {\n        if (props.isAuth) props.handleLink()\n    }, [])\n\n    return (\n        <div className=\"passp-content\">\n            <form className=\"passp-content__form\" noValidate onSubmit={handleSubmit}>\n                <h2 className=\"passp-content__title\">Регистрация</h2>\n                <InputForm className=\"passp-content__input\" placeholder=\"Email\" type=\"email\"></InputForm>\n                <InputForm className=\"passp-content__input\" placeholder=\"Пароль\" type=\"password\"></InputForm>\n                <button className=\"passp-content__button-submit\" >Зарегистрироваться</button>\n            </form>\n            <p className=\"passp-content__check\">Уже зарегистрированы? <Link to=\"sign-in\" onClick={props.handleLink} className=\"passp-content__link\" href=\"#\">Войти</Link></p>\n        </div>\n    );\n}\n\nexport default withRouter(Register);","/home/timakov/react-mesto-auth/src/components/ProtectedRoute.js",[],{"ruleId":"99","replacedBy":"100"},{"ruleId":"101","replacedBy":"102"},{"ruleId":"103","severity":1,"message":"104","line":16,"column":25,"nodeType":"105","messageId":"106","endLine":16,"endColumn":33},{"ruleId":"103","severity":1,"message":"107","line":16,"column":35,"nodeType":"105","messageId":"106","endLine":16,"endColumn":45},{"ruleId":"103","severity":1,"message":"108","line":133,"column":14,"nodeType":"105","messageId":"106","endLine":133,"endColumn":25},{"ruleId":"109","severity":2,"message":"110","line":134,"column":9,"nodeType":"105","messageId":"111","endLine":134,"endColumn":13},{"ruleId":"109","severity":2,"message":"112","line":137,"column":17,"nodeType":"105","messageId":"111","endLine":137,"endColumn":25},{"ruleId":"109","severity":2,"message":"113","line":138,"column":17,"nodeType":"105","messageId":"111","endLine":138,"endColumn":28},{"ruleId":"109","severity":2,"message":"114","line":139,"column":17,"nodeType":"105","messageId":"111","endLine":139,"endColumn":24},{"ruleId":"109","severity":2,"message":"115","line":140,"column":17,"nodeType":"105","messageId":"111","endLine":140,"endColumn":22},{"ruleId":"103","severity":1,"message":"116","line":149,"column":14,"nodeType":"105","messageId":"106","endLine":149,"endColumn":28},{"ruleId":"109","severity":2,"message":"110","line":150,"column":9,"nodeType":"105","messageId":"111","endLine":150,"endColumn":13},{"ruleId":"109","severity":2,"message":"115","line":153,"column":17,"nodeType":"105","messageId":"111","endLine":153,"endColumn":22},{"ruleId":"117","severity":2,"message":"118","line":211,"column":10,"nodeType":"119","messageId":"120","endLine":211,"endColumn":21},{"ruleId":"117","severity":2,"message":"118","line":216,"column":10,"nodeType":"119","messageId":"120","endLine":216,"endColumn":21},{"ruleId":"103","severity":1,"message":"121","line":7,"column":12,"nodeType":"105","messageId":"106","endLine":7,"endColumn":17},{"ruleId":"103","severity":1,"message":"122","line":7,"column":19,"nodeType":"105","messageId":"106","endLine":7,"endColumn":27},{"ruleId":"103","severity":1,"message":"123","line":8,"column":12,"nodeType":"105","messageId":"106","endLine":8,"endColumn":20},{"ruleId":"103","severity":1,"message":"124","line":8,"column":22,"nodeType":"105","messageId":"106","endLine":8,"endColumn":33},{"ruleId":"103","severity":1,"message":"125","line":2,"column":10,"nodeType":"105","messageId":"106","endLine":2,"endColumn":14},{"ruleId":"103","severity":1,"message":"107","line":2,"column":16,"nodeType":"105","messageId":"106","endLine":2,"endColumn":26},{"ruleId":"103","severity":1,"message":"126","line":11,"column":14,"nodeType":"105","messageId":"106","endLine":11,"endColumn":25},{"ruleId":"103","severity":1,"message":"127","line":15,"column":14,"nodeType":"105","messageId":"106","endLine":15,"endColumn":28},{"ruleId":"128","severity":1,"message":"129","line":28,"column":8,"nodeType":"130","endLine":28,"endColumn":10,"suggestions":"131"},"no-native-reassign",["132"],"no-negated-in-lhs",["133"],"no-unused-vars","'Redirect' is defined but never used.","Identifier","unusedVar","'withRouter' is defined but never used.","'handleLogin' is defined but never used.","no-undef","'auth' is not defined.","undef","'setEmail' is not defined.","'setLoggedIn' is not defined.","'setExit' is not defined.","'props' is not defined.","'handleRegister' is defined but never used.","react/jsx-no-undef","'InfoToolTip' is not defined.","JSXIdentifier","undefined","'email' is assigned a value but never used.","'setEmail' is assigned a value but never used.","'password' is assigned a value but never used.","'setPassword' is assigned a value but never used.","'Link' is defined but never used.","'handleEmail' is defined but never used.","'handlePassword' is defined but never used.","react-hooks/exhaustive-deps","React Hook React.useEffect has a missing dependency: 'props'. Either include it or remove the dependency array. However, 'props' will change when *any* prop changes, so the preferred fix is to destructure the 'props' object outside of the useEffect call and refer to those specific props inside React.useEffect.","ArrayExpression",["134"],"no-global-assign","no-unsafe-negation",{"desc":"135","fix":"136"},"Update the dependencies array to be: [props]",{"range":"137","text":"138"},[854,856],"[props]"]